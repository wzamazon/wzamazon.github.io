<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Libfabric EFA Provider: prov/efa/src/efa_base_ep.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Libfabric EFA Provider
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b381ef8083dea485196d236b9877555e.html">prov</a></li><li class="navelem"><a class="el" href="dir_a515239317c856b6e80d7e87f6229fcf.html">efa</a></li><li class="navelem"><a class="el" href="dir_268213be7ca109d6848bb43595209f5b.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">efa_base_ep.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;arpa/inet.h&gt;</code><br/>
<code>#include &lt;infiniband/verbs.h&gt;</code><br/>
<code>#include &lt;infiniband/efadv.h&gt;</code><br/>
<code>#include &quot;ofi.h&quot;</code><br/>
<code>#include &quot;ofi_util.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="efa__rdm__protocol_8h_source.html">rdm/efa_rdm_protocol.h</a>&quot;</code><br/>
</div>
<p><a href="efa__base__ep_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structefa__qp.html">efa_qp</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structefa__base__ep.html">efa_base_ep</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6afcf78864c9d592959566e3aac32a2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__base__ep_8h.html#a6afcf78864c9d592959566e3aac32a2e">efa_base_ep_bind_av</a> (struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *base_ep, struct <a class="el" href="structefa__av.html">efa_av</a> *av)</td></tr>
<tr class="separator:a6afcf78864c9d592959566e3aac32a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96293c697f15a3b81e40b4f85f1e2b06"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__base__ep_8h.html#a96293c697f15a3b81e40b4f85f1e2b06">efa_base_ep_destruct</a> (struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *base_ep)</td></tr>
<tr class="separator:a96293c697f15a3b81e40b4f85f1e2b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ecba7179a7233280445ca07b82a56f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__base__ep_8h.html#a16ecba7179a7233280445ca07b82a56f">efa_base_ep_enable</a> (struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *base_ep)</td></tr>
<tr class="separator:a16ecba7179a7233280445ca07b82a56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005f642b1af62517decf523bee813f2c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__base__ep_8h.html#a005f642b1af62517decf523bee813f2c">efa_base_ep_construct</a> (struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *base_ep, struct fid_domain *domain_fid, struct fi_info *info, ofi_ep_progress_func progress, void *context)</td></tr>
<tr class="separator:a005f642b1af62517decf523bee813f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47deaaffdb11480e19184998e7a1130c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__base__ep_8h.html#a47deaaffdb11480e19184998e7a1130c">efa_base_ep_getname</a> (fid_t fid, void *addr, size_t *addrlen)</td></tr>
<tr class="separator:a47deaaffdb11480e19184998e7a1130c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ce598fe9a2f2d7dea7c818d6309908"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__base__ep_8h.html#ad3ce598fe9a2f2d7dea7c818d6309908">efa_base_ep_create_qp</a> (struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *base_ep, struct ibv_qp_init_attr_ex *init_attr_ex)</td></tr>
<tr class="separator:ad3ce598fe9a2f2d7dea7c818d6309908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad67897bf8f65305b3fb222861b5d7c84"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__base__ep_8h.html#ad67897bf8f65305b3fb222861b5d7c84">efa_base_ep_support_op_in_order_aligned_128_bytes</a> (struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *base_ep, enum ibv_wr_opcode op)</td></tr>
<tr class="separator:ad67897bf8f65305b3fb222861b5d7c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e30b668a653a7bfd2d49bc0ad393f1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__base__ep_8h.html#a2e30b668a653a7bfd2d49bc0ad393f1a">efa_base_ep_write_eq_error</a> (struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *ep, ssize_t <a class="el" href="efa__prov_8c.html#a52482fdd3721e7db69dc740aefee8ad4">err</a>, ssize_t prov_errno)</td></tr>
<tr class="memdesc:a2e30b668a653a7bfd2d49bc0ad393f1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">write error to event queue (EQ) EQ error is written when a) write to CQ failed b) the error was not associated to an user action Therefore it is really the last resort to report an error. If the base_ep is not binded to an EQ, or write to EQ failed, this function will print the error message to console, then abort()  <a href="#a2e30b668a653a7bfd2d49bc0ad393f1a">More...</a><br/></td></tr>
<tr class="separator:a2e30b668a653a7bfd2d49bc0ad393f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a6afcf78864c9d592959566e3aac32a2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int efa_base_ep_bind_av </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *&#160;</td>
          <td class="paramname"><em>base_ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structefa__av.html">efa_av</a> *&#160;</td>
          <td class="paramname"><em>av</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a005f642b1af62517decf523bee813f2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int efa_base_ep_construct </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *&#160;</td>
          <td class="paramname"><em>base_ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct fid_domain *&#160;</td>
          <td class="paramname"><em>domain_fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct fi_info *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ofi_ep_progress_func&#160;</td>
          <td class="paramname"><em>progress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad3ce598fe9a2f2d7dea7c818d6309908"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int efa_base_ep_create_qp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *&#160;</td>
          <td class="paramname"><em>base_ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ibv_qp_init_attr_ex *&#160;</td>
          <td class="paramname"><em>init_attr_ex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a96293c697f15a3b81e40b4f85f1e2b06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int efa_base_ep_destruct </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *&#160;</td>
          <td class="paramname"><em>base_ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a16ecba7179a7233280445ca07b82a56f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int efa_base_ep_enable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *&#160;</td>
          <td class="paramname"><em>base_ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a47deaaffdb11480e19184998e7a1130c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int efa_base_ep_getname </td>
          <td>(</td>
          <td class="paramtype">fid_t&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>addrlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad67897bf8f65305b3fb222861b5d7c84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool efa_base_ep_support_op_in_order_aligned_128_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *&#160;</td>
          <td class="paramname"><em>base_ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum ibv_wr_opcode&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e30b668a653a7bfd2d49bc0ad393f1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void efa_base_ep_write_eq_error </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__base__ep.html">efa_base_ep</a> *&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>prov_errno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write error to event queue (EQ) EQ error is written when a) write to CQ failed b) the error was not associated to an user action Therefore it is really the last resort to report an error. If the base_ep is not binded to an EQ, or write to EQ failed, this function will print the error message to console, then abort() </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ep</td><td>base endpoint </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>OFI error code </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prov_errno</td><td>provider error code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
