<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Libfabric EFA Provider: prov/efa/src/rdm/efa_rdm_pke.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Libfabric EFA Provider
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b381ef8083dea485196d236b9877555e.html">prov</a></li><li class="navelem"><a class="el" href="dir_a515239317c856b6e80d7e87f6229fcf.html">efa</a></li><li class="navelem"><a class="el" href="dir_268213be7ca109d6848bb43595209f5b.html">src</a></li><li class="navelem"><a class="el" href="dir_2a8709364a10ee80619c78ae399489f1.html">rdm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">efa_rdm_pke.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;uthash.h&gt;</code><br/>
<code>#include &lt;ofi_mem.h&gt;</code><br/>
<code>#include &lt;ofi_list.h&gt;</code><br/>
</div>
<p><a href="efa__rdm__pke_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet entry.  <a href="structefa__rdm__pke.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab7736f7fa320da45cc1cee1d07e644a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#ab7736f7fa320da45cc1cee1d07e644a7">EFA_RDM_PKE_IN_USE</a>&#160;&#160;&#160;BIT_ULL(0)</td></tr>
<tr class="separator:ab7736f7fa320da45cc1cee1d07e644a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe02fcd778bc4507d127257fedf74f61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#afe02fcd778bc4507d127257fedf74f61">EFA_RDM_PKE_RNR_RETRANSMIT</a>&#160;&#160;&#160;BIT_ULL(1)</td></tr>
<tr class="separator:afe02fcd778bc4507d127257fedf74f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf44df5c24ecec0b55b83b2045f2224"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#aadf44df5c24ecec0b55b83b2045f2224">EFA_RDM_PKE_LOCAL_READ</a>&#160;&#160;&#160;BIT_ULL(2)</td></tr>
<tr class="separator:aadf44df5c24ecec0b55b83b2045f2224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a067c4db40adb6fcf1f641f937342fa1b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#a067c4db40adb6fcf1f641f937342fa1b">EFA_RDM_PKE_DC_LONGCTS_DATA</a>&#160;&#160;&#160;BIT_ULL(3)</td></tr>
<tr class="separator:a067c4db40adb6fcf1f641f937342fa1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4998020e3505a10dd3df79146fe9926f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#a4998020e3505a10dd3df79146fe9926f">EFA_RDM_PKE_LOCAL_WRITE</a>&#160;&#160;&#160;BIT_ULL(4)</td></tr>
<tr class="separator:a4998020e3505a10dd3df79146fe9926f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a9457b75b4705ca844507d177c3259cbe"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#a9457b75b4705ca844507d177c3259cbe">efa_rdm_pke_alloc_type</a> { <br/>
&#160;&#160;<a class="el" href="efa__rdm__pke_8h.html#a9457b75b4705ca844507d177c3259cbea6337a910b833f26695244bd75d17a393">EFA_RDM_PKE_FROM_EFA_TX_POOL</a> = 1, 
<a class="el" href="efa__rdm__pke_8h.html#a9457b75b4705ca844507d177c3259cbeaf557cb2ed47edec6615642406fa2029f">EFA_RDM_PKE_FROM_EFA_RX_POOL</a>, 
<a class="el" href="efa__rdm__pke_8h.html#a9457b75b4705ca844507d177c3259cbea11217e6e0086aefcc87ba01e4edb5044">EFA_RDM_PKE_FROM_UNEXP_POOL</a>, 
<a class="el" href="efa__rdm__pke_8h.html#a9457b75b4705ca844507d177c3259cbea37d747762259d267b4215839014ff7e4">EFA_RDM_PKE_FROM_OOO_POOL</a>, 
<br/>
&#160;&#160;<a class="el" href="efa__rdm__pke_8h.html#a9457b75b4705ca844507d177c3259cbea3826e399dd0db6325277a9eaf3a9e51c">EFA_RDM_PKE_FROM_USER_BUFFER</a>, 
<a class="el" href="efa__rdm__pke_8h.html#a9457b75b4705ca844507d177c3259cbea973b627083cc64b6b37cbcc0961a6464">EFA_RDM_PKE_FROM_READ_COPY_POOL</a>
<br/>
 }</td></tr>
<tr class="separator:a9457b75b4705ca844507d177c3259cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8d9e93b526af54b6541fdb5d8a1ea4a1"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#a8d9e93b526af54b6541fdb5d8a1ea4a1">efa_rdm_pke_init_prefix</a> (struct <a class="el" href="structefa__rdm__ep.html">efa_rdm_ep</a> *ep, const struct fi_msg *posted_buf, struct ofi_bufpool *pkt_pool)</td></tr>
<tr class="separator:a8d9e93b526af54b6541fdb5d8a1ea4a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17df4df29f4091fc48372f774d7613bf"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#a17df4df29f4091fc48372f774d7613bf">efa_rdm_pke_alloc</a> (struct <a class="el" href="structefa__rdm__ep.html">efa_rdm_ep</a> *ep, struct ofi_bufpool *pkt_pool, enum <a class="el" href="efa__rdm__pke_8h.html#a9457b75b4705ca844507d177c3259cbe">efa_rdm_pke_alloc_type</a> alloc_type)</td></tr>
<tr class="separator:a17df4df29f4091fc48372f774d7613bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f22df9ff2a2627552e0c09c7c20887"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#a25f22df9ff2a2627552e0c09c7c20887">efa_rdm_pke_release_tx</a> (struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *pke)</td></tr>
<tr class="separator:a25f22df9ff2a2627552e0c09c7c20887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbda197ba209096b57ae3d6aa2824000"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#adbda197ba209096b57ae3d6aa2824000">efa_rdm_pke_release_rx</a> (struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *pke)</td></tr>
<tr class="separator:adbda197ba209096b57ae3d6aa2824000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6c7b95eec44787c1d1ca589ed02b65d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#ae6c7b95eec44787c1d1ca589ed02b65d">efa_rdm_pke_release</a> (struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *pke)</td></tr>
<tr class="separator:ae6c7b95eec44787c1d1ca589ed02b65d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3feca6c660e777e1d672e70cd6eb43b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#a3feca6c660e777e1d672e70cd6eb43b2">efa_rdm_pke_append</a> (struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *dst, struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *src)</td></tr>
<tr class="separator:a3feca6c660e777e1d672e70cd6eb43b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa0b3d3ccc178a0fd20cc7b48d332dd9"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#aaa0b3d3ccc178a0fd20cc7b48d332dd9">efa_rdm_pke_clone</a> (struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *src, struct ofi_bufpool *pkt_pool, enum <a class="el" href="efa__rdm__pke_8h.html#a9457b75b4705ca844507d177c3259cbe">efa_rdm_pke_alloc_type</a> alloc_type)</td></tr>
<tr class="separator:aaa0b3d3ccc178a0fd20cc7b48d332dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedbc826cf412b1e0d48db4f6b1bec525"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#aedbc826cf412b1e0d48db4f6b1bec525">efa_rdm_pke_get_unexp</a> (struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> **pke_ptr)</td></tr>
<tr class="memdesc:aedbc826cf412b1e0d48db4f6b1bec525"><td class="mdescLeft">&#160;</td><td class="mdescRight">create a copy of unexpected packet entry  <a href="#aedbc826cf412b1e0d48db4f6b1bec525">More...</a><br/></td></tr>
<tr class="separator:aedbc826cf412b1e0d48db4f6b1bec525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f3bf0e87ed8d50a1ec69450a04da51"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#ac1f3bf0e87ed8d50a1ec69450a04da51">efa_rdm_pke_sendv</a> (struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> **pke_vec, int pke_cnt)</td></tr>
<tr class="memdesc:ac1f3bf0e87ed8d50a1ec69450a04da51"><td class="mdescLeft">&#160;</td><td class="mdescRight">send data over wire using rdma-core API  <a href="#ac1f3bf0e87ed8d50a1ec69450a04da51">More...</a><br/></td></tr>
<tr class="separator:ac1f3bf0e87ed8d50a1ec69450a04da51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a650823dbe5696644d1d857e7b5fbe541"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#a650823dbe5696644d1d857e7b5fbe541">efa_rdm_pke_read</a> (struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *pke, void *local_buf, size_t len, void *desc, uint64_t remote_buf, size_t remote_key)</td></tr>
<tr class="memdesc:a650823dbe5696644d1d857e7b5fbe541"><td class="mdescLeft">&#160;</td><td class="mdescRight">post one read request  <a href="#a650823dbe5696644d1d857e7b5fbe541">More...</a><br/></td></tr>
<tr class="separator:a650823dbe5696644d1d857e7b5fbe541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44bb1fe0b9dd1860e51ee9252d320a3b"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#a44bb1fe0b9dd1860e51ee9252d320a3b">efa_rdm_pke_recvv</a> (struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> **pke_vec, int pke_cnt)</td></tr>
<tr class="memdesc:a44bb1fe0b9dd1860e51ee9252d320a3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post receive requests to EFA device.  <a href="#a44bb1fe0b9dd1860e51ee9252d320a3b">More...</a><br/></td></tr>
<tr class="separator:a44bb1fe0b9dd1860e51ee9252d320a3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d1cd54f6490e57b81df091b5b5dd5bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efa__rdm__pke_8h.html#a7d1cd54f6490e57b81df091b5b5dd5bf">efa_rdm_pke_write</a> (struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *pke, void *local_buf, size_t len, void *desc, uint64_t remote_buf, size_t remote_key)</td></tr>
<tr class="memdesc:a7d1cd54f6490e57b81df091b5b5dd5bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">post one write request  <a href="#a7d1cd54f6490e57b81df091b5b5dd5bf">More...</a><br/></td></tr>
<tr class="separator:a7d1cd54f6490e57b81df091b5b5dd5bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a067c4db40adb6fcf1f641f937342fa1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EFA_RDM_PKE_DC_LONGCTS_DATA&#160;&#160;&#160;BIT_ULL(3)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this DATA packet entry is used by a delivery complete LONGCTS send/write protocol </p>

</div>
</div>
<a class="anchor" id="ab7736f7fa320da45cc1cee1d07e644a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EFA_RDM_PKE_IN_USE&#160;&#160;&#160;BIT_ULL(0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this packet entry is being used </p>

</div>
</div>
<a class="anchor" id="aadf44df5c24ecec0b55b83b2045f2224"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EFA_RDM_PKE_LOCAL_READ&#160;&#160;&#160;BIT_ULL(2)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this packet entry is used as context of a local read operation </p>

</div>
</div>
<a class="anchor" id="a4998020e3505a10dd3df79146fe9926f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EFA_RDM_PKE_LOCAL_WRITE&#160;&#160;&#160;BIT_ULL(4)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this packet entry is used as context of an RDMA Write to self </p>

</div>
</div>
<a class="anchor" id="afe02fcd778bc4507d127257fedf74f61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EFA_RDM_PKE_RNR_RETRANSMIT&#160;&#160;&#160;BIT_ULL(1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this packet entry encountered RNR and is being retransmitted </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a9457b75b4705ca844507d177c3259cbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="efa__rdm__pke_8h.html#a9457b75b4705ca844507d177c3259cbe">efa_rdm_pke_alloc_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a9457b75b4705ca844507d177c3259cbea6337a910b833f26695244bd75d17a393"></a>EFA_RDM_PKE_FROM_EFA_TX_POOL</em>&nbsp;</td><td class="fielddoc">
<p>packet is allocated from <code>ep-&gt;efa_tx_pkt_pool</code> </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9457b75b4705ca844507d177c3259cbeaf557cb2ed47edec6615642406fa2029f"></a>EFA_RDM_PKE_FROM_EFA_RX_POOL</em>&nbsp;</td><td class="fielddoc">
<p>packet is allocated from <code>ep-&gt;efa_rx_pkt_pool</code> </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9457b75b4705ca844507d177c3259cbea11217e6e0086aefcc87ba01e4edb5044"></a>EFA_RDM_PKE_FROM_UNEXP_POOL</em>&nbsp;</td><td class="fielddoc">
<p>packet is allocated from <code>ep-&gt;rx_unexp_pkt_pool</code> </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9457b75b4705ca844507d177c3259cbea37d747762259d267b4215839014ff7e4"></a>EFA_RDM_PKE_FROM_OOO_POOL</em>&nbsp;</td><td class="fielddoc">
<p>packet is allocated from <code>ep-&gt;rx_ooo_pkt_pool</code> </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9457b75b4705ca844507d177c3259cbea3826e399dd0db6325277a9eaf3a9e51c"></a>EFA_RDM_PKE_FROM_USER_BUFFER</em>&nbsp;</td><td class="fielddoc">
<p>packet is from user provided buffer` </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9457b75b4705ca844507d177c3259cbea973b627083cc64b6b37cbcc0961a6464"></a>EFA_RDM_PKE_FROM_READ_COPY_POOL</em>&nbsp;</td><td class="fielddoc">
<p>packet is allocated from <code>ep-&gt;rx_readcopy_pkt_pool</code> </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a17df4df29f4091fc48372f774d7613bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a>* efa_rdm_pke_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__ep.html">efa_rdm_ep</a> *&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ofi_bufpool *&#160;</td>
          <td class="paramname"><em>pkt_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="efa__rdm__pke_8h.html#a9457b75b4705ca844507d177c3259cbe">efa_rdm_pke_alloc_type</a>&#160;</td>
          <td class="paramname"><em>alloc_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3feca6c660e777e1d672e70cd6eb43b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void efa_rdm_pke_append </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aaa0b3d3ccc178a0fd20cc7b48d332dd9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a>* efa_rdm_pke_clone </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ofi_bufpool *&#160;</td>
          <td class="paramname"><em>pkt_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="efa__rdm__pke_8h.html#a9457b75b4705ca844507d177c3259cbe">efa_rdm_pke_alloc_type</a>&#160;</td>
          <td class="paramname"><em>alloc_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aedbc826cf412b1e0d48db4f6b1bec525"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a>* efa_rdm_pke_get_unexp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> **&#160;</td>
          <td class="paramname"><em>pke_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create a copy of unexpected packet entry </p>
<p>Handle copying or updating the metadata for an unexpected packet.</p>
<p>Packets from the EFA RX pool will be copied into a separate buffer not registered with the device (if this option is enabled) so that we can repost the registered buffer again to keep the EFA RX queue full. Packets from the SHM RX pool and peer srx ops will also be copied to reuse the unexpected message pool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pke_ptr</td><td>unexpected packet, if this packet is copied to a new memory region this pointer will be updated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>struct <a class="el" href="structefa__rdm__pke.html" title="Packet entry. ">efa_rdm_pke</a> of the updated or copied packet, NULL on allocation failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a8d9e93b526af54b6541fdb5d8a1ea4a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a>* efa_rdm_pke_init_prefix </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__ep.html">efa_rdm_ep</a> *&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fi_msg *&#160;</td>
          <td class="paramname"><em>posted_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ofi_bufpool *&#160;</td>
          <td class="paramname"><em>pkt_pool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a650823dbe5696644d1d857e7b5fbe541"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int efa_rdm_pke_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *&#160;</td>
          <td class="paramname"><em>pke</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>local_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>remote_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>remote_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>post one read request </p>
<p>This function posts one read request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pke</td><td>read_entry that has information of the read request. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ep</td><td>endpoint </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">local_buf</td><td>local buffer, where data will be copied to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>read size. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">desc</td><td>memory descriptor of local buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">remote_buff</td><td>remote buffer, where data will be read from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">remote_key</td><td>memory key of remote buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, return 0 On failure, return a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="a44bb1fe0b9dd1860e51ee9252d320a3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t efa_rdm_pke_recvv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> **&#160;</td>
          <td class="paramname"><em>pke_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pke_cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Post receive requests to EFA device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>EFA rdm endpoint </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pke</td><td>packet entries that contains information of receive buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">desc</td><td>Memory registration key </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>flags to be applied to the receive operation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success On error, a negative value corresponding to fabric errno </dd></dl>

</div>
</div>
<a class="anchor" id="ae6c7b95eec44787c1d1ca589ed02b65d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void efa_rdm_pke_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *&#160;</td>
          <td class="paramname"><em>pke</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="adbda197ba209096b57ae3d6aa2824000"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void efa_rdm_pke_release_rx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *&#160;</td>
          <td class="paramname"><em>pke</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a25f22df9ff2a2627552e0c09c7c20887"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void efa_rdm_pke_release_tx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *&#160;</td>
          <td class="paramname"><em>pke</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac1f3bf0e87ed8d50a1ec69450a04da51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t efa_rdm_pke_sendv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> **&#160;</td>
          <td class="paramname"><em>pke_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pke_cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>send data over wire using rdma-core API </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pke_vec</td><td>an array of packet entries to be sent </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pke_cnt</td><td>number of packet entries to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success On error, a negative value corresponding to fabric errno </dd></dl>

</div>
</div>
<a class="anchor" id="a7d1cd54f6490e57b81df091b5b5dd5bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int efa_rdm_pke_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structefa__rdm__pke.html">efa_rdm_pke</a> *&#160;</td>
          <td class="paramname"><em>pke</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>local_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>remote_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>remote_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>post one write request </p>
<p>This function posts one write request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pke</td><td>write_entry that has information of the write request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">local_buf</td><td>local buffer, where data will be copied from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>write size. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">desc</td><td>memory descriptor of local buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">remote_buff</td><td>remote buffer, where data will be written to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">remote_key</td><td>memory key of remote buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, return 0 On failure, return a negative error code. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
